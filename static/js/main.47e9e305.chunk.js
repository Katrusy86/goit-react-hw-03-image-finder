(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,a,t){e.exports={LoadMore:"LoadMoreBtn_LoadMore__2Jv1B",Button:"LoadMoreBtn_Button__2VHRt"}},22:function(e,a,t){e.exports={App:"app_App__1fVJ6"}},24:function(e,a,t){e.exports={ImageGallery:"imageGallery_ImageGallery__flzv-"}},26:function(e,a,t){e.exports=t(70)},7:function(e,a,t){e.exports={Searchbar:"searchBar_Searchbar__20gwN",SearchForm:"searchBar_SearchForm__32z9H",SearchForm_button:"searchBar_SearchForm_button__7HzdX",SearchForm_button__label:"searchBar_SearchForm_button__label__2Tm1o",SearchForm_input:"searchBar_SearchForm_input__wVVji"}},70:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(21),c=t.n(o),l=t(11),i=t(3),s=t(4),u=t(6),m=t(5),h=t(22),p=t.n(h),d=t(23),g=t.n(d),f="&per_page=12&key=".concat("16045246-fdd78b83cbf5b45609c75787e"),_=function(e,a){return g.a.get("https://pixabay.com/api/?image_type=photo&orientation=horizontal&"+"q=".concat(e)+f+"&page=".concat(a))},y=t(24),b=t.n(y),v=t(8),S=t.n(v),E=function(e){var a=e.webformatURL,t=e.openModal,n=e.largeImageURL;return r.a.createElement("div",{className:S.a.ImageGalleryItem},r.a.createElement("img",{"data-largeimageurl":n,className:S.a.ImageGalleryItem_image,onClick:t,src:a,alt:""}))},k=t(9),O=t.n(k),I=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(e=a.call.apply(a,[this].concat(o))).backdropRef=Object(n.createRef)(),e.handleKeyDown=function(a){"Escape"===a.code&&e.props.onClose()},e.handleBackdropClick=function(a){var t=e.backdropRef.current;t&&a.target!==t||e.props.onClose()},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return r.a.createElement("div",{className:O.a.Overlay,ref:this.backdropRef,onClick:this.handleBackdropClick},r.a.createElement("div",{className:O.a.Modal},r.a.createElement("img",{src:this.props.currentImage,alt:""})))}}]),t}(n.Component),C=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={isModalOpen:!1,currentImage:""},e.openModal=function(a){console.log(a.target),e.setState({isModalOpen:!0,currentImage:a.target.dataset.largeimageurl})},e.closeModal=function(){return e.setState({isModalOpen:!1})},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.items;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:b.a.ImageGallery},a.map((function(a){return r.a.createElement("li",{key:a.id},console.log(a),";",r.a.createElement(E,Object.assign({},a,{openModal:e.openModal})))}))),this.state.isModalOpen&&r.a.createElement(I,{onClose:this.closeModal,currentImage:this.state.currentImage}))}}]),t}(n.Component),w=t(25),M=t.n(w),j=(t(69),function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){return Object(i.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(M.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})}}]),t}(r.a.Component)),L=t(7),F=t.n(L),B=function(e){var a=e.onSubmit,t=e.onChange,n=e.query;return r.a.createElement("header",{className:F.a.Searchbar},r.a.createElement("form",{className:F.a.SearchForm,onSubmit:a},r.a.createElement("button",{type:"submit",onChange:t,className:F.a.SearchForm_button},r.a.createElement("span",{className:F.a.SearchForm_button__label},"Search")),r.a.createElement("input",{className:F.a.SearchForm_input,type:"text",value:n,name:"query",onChange:t,placeholder:"Search images and photos"})))},N=t(10),G=t.n(N),q=function(e){var a=e.onClick;return r.a.createElement("div",{className:G.a.LoadMore},r.a.createElement("button",{className:G.a.Button,type:"button",onClick:a},r.a.createElement("span",null,"Load More")))},x=function(e){Object(u.a)(t,e);var a=Object(m.a)(t);function t(){var e;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=a.call.apply(a,[this].concat(r))).state={articles:[],query:"",isLoading:!1,page:1},e.handleChange=function(a){e.setState({query:a.target.value})},e.handleSubmit=function(a){a.preventDefault();var t=e.state,n=t.query,r=t.page;e.setState({isLoading:!0}),_(n,r).then((function(a){var t=a.data;e.setState({articles:t.hits,page:1}),console.log(t.hits)})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({isLoading:!1})}))},e.handleLoadClick=function(){var a=e.state,t=a.query,n=a.page;_(t,n+1).then((function(a){var t=a.data;e.setState((function(e){return{articles:[].concat(Object(l.a)(e.articles),Object(l.a)(t.hits)),page:e.page+1}}))})).then((function(){e.scrollWin()})).catch((function(a){return e.setState({error:a})})).finally((function(){return e.setState({isLoading:!1})}))},e}return Object(s.a)(t,[{key:"componentDidMount",value:function(){_()}},{key:"scrollWin",value:function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,a=e.articles,t=e.isLoading,n=e.query,o=e.page;return r.a.createElement("div",{className:p.a.App},r.a.createElement(B,{onChange:this.handleChange,onSubmit:this.handleSubmit,query:n,page:o}),t&&r.a.createElement(j,null),a.length>0&&r.a.createElement(C,{items:a}),r.a.createElement(q,{onClick:this.handleLoadClick}))}}]),t}(n.Component);c.a.render(r.a.createElement(x,null),document.getElementById("root"))},8:function(e,a,t){e.exports={ImageGalleryItem:"imageGalleryItem_ImageGalleryItem__2a8Q1",ImageGalleryItem_image:"imageGalleryItem_ImageGalleryItem_image__2bpTt"}},9:function(e,a,t){e.exports={Overlay:"modal_Overlay__387Y8",Modal:"modal_Modal__2PMRC"}}},[[26,1,2]]]);
//# sourceMappingURL=main.47e9e305.chunk.js.map